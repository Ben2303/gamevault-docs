"use strict";(self.webpackChunkcrackpipe_docs=self.webpackChunkcrackpipe_docs||[]).push([[579],{9613:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>k});var n=r(9496);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),l=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(r),m=a,k=d["".concat(p,".").concat(m)]||d[m]||u[m]||o;return r?n.createElement(k,i(i({ref:t},c),{},{components:r})):n.createElement(k,i({ref:t},c))}));function k(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},6564:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=r(1163),a=(r(9496),r(9613));const o={sidebar_position:1},i="Setting up a Crackpipe Server",s={unversionedId:"Server Docs/server-setup",id:"Server Docs/server-setup",title:"Setting up a Crackpipe Server",description:"Setting up a Crackpipe server can be done in a few simple steps. Before starting, there are some prerequisites you need to have in place.",source:"@site/docs/Server Docs/server-setup.md",sourceDirName:"Server Docs",slug:"/Server Docs/server-setup",permalink:"/crackpipe-docs/docs/Server Docs/server-setup",draft:!1,editUrl:"https://github.com/phalcode/crackpipe-docs/docs/Server Docs/server-setup.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docs",previous:{title:"Introduction",permalink:"/crackpipe-docs/docs/intro"},next:{title:"Configuration",permalink:"/crackpipe-docs/docs/Server Docs/server-configuration"}},p={},l=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Step-by-Step Guide",id:"step-by-step-guide",level:3},{value:"1. Install Docker and Docker Compose",id:"1-install-docker-and-docker-compose",level:4},{value:"2. Create a Docker Compose file",id:"2-create-a-docker-compose-file",level:4},{value:"3. Configure Crackpipe",id:"3-configure-crackpipe",level:4},{value:"4. Start the Crackpipe server",id:"4-start-the-crackpipe-server",level:4}],c={toc:l},d="wrapper";function u(e){let{components:t,...r}=e;return(0,a.kt)(d,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"setting-up-a-crackpipe-server"},"Setting up a Crackpipe Server"),(0,a.kt)("p",null,"Setting up a Crackpipe server can be done in a few simple steps. Before starting, there are some prerequisites you need to have in place."),(0,a.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"TypeORM-compatible PostgreSQL Server"),": Crackpipe uses a PostgreSQL server to store all the data. Ensure that you have a TypeORM-compatible PostgreSQL server installed and running on your system."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Zipped Games in a specific name format"),": Crackpipe needs the games to be in a specific name format to be able to identify and install them correctly.")),(0,a.kt)("h3",{id:"step-by-step-guide"},"Step-by-Step Guide"),(0,a.kt)("h4",{id:"1-install-docker-and-docker-compose"},"1. Install Docker and Docker Compose"),(0,a.kt)("p",null,"Docker and Docker Compose are recommended to set up the Crackpipe server. If you do not have Docker and Docker Compose installed on your system, follow these steps to install them:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Docker"),": You can download Docker from the official ",(0,a.kt)("a",{parentName:"li",href:"https://www.docker.com/get-started"},"Docker website"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Docker Compose"),": Docker Compose is already included in the Docker Desktop installation for Windows and macOS users. If you are using Linux, follow the instructions on the ",(0,a.kt)("a",{parentName:"li",href:"https://docs.docker.com/compose/install/"},"Docker Compose installation page"),".")),(0,a.kt)("h4",{id:"2-create-a-docker-compose-file"},"2. Create a Docker Compose file"),(0,a.kt)("p",null,"Create a new file named ",(0,a.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," in a directory of your choice and copy the following code:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'version: "3.1"\nservices:\n  crackpipe-backend:\n    image: crackpipe-backend\n    restart: unless-stopped\n    environment:\n      CONFIG_DB_HOST: "db"\n      CONFIG_DB_USERNAME: "default"\n      CONFIG_DB_PASSWORD: "default"\n    volumes:\n      - /files:/your/games/folder:ro\n  db:\n    image: postgres\n    restart: unless-stopped\n    environment:\n      POSTGRES_USER: default\n      POSTGRES_PASSWORD: default\n      POSTGRES_DB: crackpipe\n    ports:\n      - 5432:5432\n')),(0,a.kt)("p",null,"The above code defines two Docker services:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"crackpipe-backend"),": This is the Crackpipe server itself. The ",(0,a.kt)("inlineCode",{parentName:"li"},"image")," parameter specifies the Docker image to be used. ",(0,a.kt)("inlineCode",{parentName:"li"},"CONFIG_RAWG_API_KEY")," is the API key for ",(0,a.kt)("a",{parentName:"li",href:"https://rawg.io/"},"RAWG"),", which is a video game database that Crackpipe uses to obtain game information. ",(0,a.kt)("inlineCode",{parentName:"li"},"CONFIG_DB_HOST"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"CONFIG_DB_USERNAME"),", and ",(0,a.kt)("inlineCode",{parentName:"li"},"CONFIG_DB_PASSWORD")," are the PostgreSQL server connection details. The ",(0,a.kt)("inlineCode",{parentName:"li"},"volumes")," parameter mounts the directory that contains the zipped games to ",(0,a.kt)("inlineCode",{parentName:"li"},"/your/games/folder")," inside the container."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"db"),": This is the PostgreSQL server. The ",(0,a.kt)("inlineCode",{parentName:"li"},"image")," parameter specifies the Docker image to be used. ",(0,a.kt)("inlineCode",{parentName:"li"},"POSTGRES_USER"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"POSTGRES_PASSWORD"),", and ",(0,a.kt)("inlineCode",{parentName:"li"},"POSTGRES_DB")," are the PostgreSQL server settings.")),(0,a.kt)("h4",{id:"3-configure-crackpipe"},"3. Configure Crackpipe"),(0,a.kt)("p",null,"Configure the ",(0,a.kt)("inlineCode",{parentName:"p"},"config.yml")," file located in the ",(0,a.kt)("inlineCode",{parentName:"p"},"backend")," folder. This file contains various settings, including the path to the directory where the zipped games are located, the path to the directory where the games will be installed, and the URL of the server."),(0,a.kt)("h4",{id:"4-start-the-crackpipe-server"},"4. Start the Crackpipe server"),(0,a.kt)("p",null,"Open a terminal, navigate to the directory where the ",(0,a.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," file is located, and run the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up -d\n")),(0,a.kt)("p",null,"This will start the Crackpipe server and PostgreSQL server in the background. The ",(0,a.kt)("inlineCode",{parentName:"p"},"-d")," parameter detaches the process from the terminal."),(0,a.kt)("p",null,"Congratulations! You have successfully set up a Crackpipe server. You can now start adding games and managing your game library."))}u.isMDXComponent=!0}}]);